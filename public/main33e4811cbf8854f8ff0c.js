(()=>{"use strict";var e,t={5187:(e,t,r)=>{var n=r(7187),o=r.n(n),i=r(6073),s=r.n(i);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function m(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(i,e);var t,r,n,o=f(i);function i(e){var t,r=e.element,n=e.elements;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),m(y(t=o.call(this)),"addChildren",(function(e,r){return s()(e,(function(n,o){if(n instanceof window.HTMLElement||n instanceof window.NodeList)r[o]=n;else{if(Array.isArray(n)){var i=t.findParentArray(n,e);return r[i]={},void t.addChildren(n,r[i])}if("string"==typeof n&&(r[o]=t.element?t.element.querySelectorAll(n):document.querySelectorAll(n)),"object"===a(n)){var s=t.findParent(e,n).toString();return r[s]={},void t.addChildren(n,r[s])}0===r[o].length?r[o]=null:1===r[o].length&&(r[o]=t.element?t.element.querySelector(n):document.querySelector(n))}}))})),t.selector=r,t.selectorChildren=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},n),t.createComponent(),t.create(),t}return t=i,r=[{key:"createComponent",value:function(){var e;this.selector instanceof window.HTMLElement?this.element=this.selector:this.element=null!==(e=document.querySelector(this.selector))&&void 0!==e?e:null,this.elements={},this.addChildren(this.selectorChildren,this.elements)}},{key:"create",value:function(){}},{key:"findParent",value:function(e,t){for(var r in e)if("object"===a(e[r])){if(e[r]===t)return r;var n=this.findParent(e[r],t);if(n)return r+"."+n}return null}},{key:"findParentArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;for(var r in t){var n=t[r];if(Array.isArray(n)&&n===e)return r}return null}},{key:"addEventListeners",value:function(){}},{key:"removeEventListeners",value:function(){}}],r&&c(t.prototype,r),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o()),b=r(6358);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==g(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===g(i)?i:String(i)),n)}var o,i}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=j(e);if(t){var o=j(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return P(this,r)}}function P(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(i,e);var t,r,n,o=O(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,{element:document.querySelector(".preloader"),elements:{images:document.querySelectorAll("[data-src]"),imagesBg:document.querySelectorAll("[data-src-bg]")}})).length=0,e.createLoader(),e}return t=i,(r=[{key:"createLoader",value:function(){var e=this;this.elements.imagesBg.forEach((function(t){t.onload=function(t){return e.onAssetLoaded()},t.style.backgroundImage="url(".concat(t.getAttribute("data-src-bg"),")"),e.onAssetLoaded()})),this.elements.images.forEach((function(t){t.onload=function(t){return e.onAssetLoaded()},t.src=t.getAttribute("data-src")}))}},{key:"onAssetLoaded",value:function(){this.length++;var e=0;this.elements.images&&(e+=this.elements.images.length),this.elements.imagesBg&&(e+=this.elements.imagesBg.length),1==this.length/e&&setTimeout(this.onLoaded.bind(this),1e3)}},{key:"onLoaded",value:function(){this.emit("completed")}},{key:"hide",value:function(){b.ZP.fromTo(this.element,{autoAlpha:1},{autoAlpha:0,duration:1.2,ease:"power4.out"}).then(this.destroy.bind(this))}},{key:"destroy",value:function(){this.element.parentNode.removeChild(this.element)}}])&&w(t.prototype,r),n&&w(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(v),R=r(9477);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A(n.key),n)}}function z(e,t){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},z(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=M(e);if(t){var o=M(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return T(this,r)}}function T(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}function A(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_(t)?t:String(t)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}(i,e);var t,r,n,o=E(i);function i(e){var t,r,n,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this,{element:e}),r=C(t),s=function(){t.scene.traverse((function(e){if(e instanceof R.Kj0)for(var t in e.geometry.dispose(),e.material){var r=e.material[t];r&&"function"==typeof r.dispose&&r.dispose()}})),t.camera.controls&&t.camera.controls.dispose(),t.renderer.dispose()},(n=A(n="destroy"))in r?Object.defineProperty(r,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[n]=s,t.sizes={width:window.innerWidth,height:window.innerHeight},t.sizes.aspect=t.sizes.width/t.sizes.height,t.createScene(),t.createRenderer(),t}return t=i,(r=[{key:"createScene",value:function(){this.scene=new R.xsS}},{key:"createRenderer",value:function(){this.renderer=new R.CP7({canvas:this.element,alpha:!0}),this.renderer.outputColorSpace=R.GUF,this.renderer.setSize(this.sizes.width,this.sizes.height),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2))}},{key:"onResize",value:function(){this.sizes.width=window.innerWidth,this.sizes.height=window.innerHeight,this.sizes.aspect=this.sizes.width/this.sizes.height}}])&&k(t.prototype,r),n&&k(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(v);function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){D(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function D(e,t,r){return(t=q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q(n.key),n)}}function q(e){var t=function(e,t){if("object"!==I(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===I(t)?t:String(t)}var N=function(){function e(t){var r=t.obj,n=t.texture,o=t.aspect,i=t.sizes,s=t.uniforms;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sizes=i,this.uniforms=s,this.createMesh({obj:r,texture:n,aspect:o}),this.getParams()}var t,r,n;return t=e,(r=[{key:"createMesh",value:function(e){var t=e.obj,r=e.texture,n=e.aspect,o=new R.jyz({uniforms:Z(Z({},this.uniforms),{},{uProgress:{value:0},uTexture:{value:r},uScale:{value:n},uZoomScale:{value:new R.FM8(1,1)},uResolution:{value:new R.FM8(1,1)},uImageRes:{value:{x:r.source.data.width,y:r.source.data.height}},uMouse:{value:new R.FM8(0,0)},uDarken:{value:1}}),vertexShader:"\n#define M_PI 3.1415926535897932384626433832795\n\nvarying vec2 vUv;\nuniform float uProgress;\nuniform vec2 uMouse;\nuniform vec2 uZoomScale;\n\nvoid main() {\n\tvUv = uv;\n\tvec3 pos = position;\n\tfloat angle = uProgress * M_PI / 2.;\n\tfloat wave = cos(angle);\n\tfloat c = sin(length(uv - .5) * 15. + uProgress * 2.) * .5 + .5;\n\tpos.x *= mix(1., uZoomScale.x + wave * c, uProgress);\n\tpos.y *= mix(1., uZoomScale.y + wave * c, uProgress);\n\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( pos, 1.0 );\n}",fragmentShader:"uniform sampler2D uTexture;\nuniform vec2 uResolution; // 1, 1\nuniform vec2 uZoomScale; // 1, 1\nuniform vec2 uImageRes; // tex.source.data.width & height\n\nuniform vec2 uScale;\nuniform vec2 uOffset;\nuniform vec2 uMouse;\nuniform float uDarken;\n\nvarying vec2 vUv;\n\nvec3 rgbShift(sampler2D textureImage, vec2 uv, vec2 offset) {\n\tfloat r = texture2D(textureImage,uv + offset).r;\n\tvec2 gb = texture2D(textureImage,uv).gb;\n\treturn vec3(r,gb);\n}\n\n/*------------------------------\nBackground Cover UV\n--------------------------------\nu = basic UV\ns = screensize\ni = image size\n------------------------------*/\nvec2 CoverUV(vec2 u, vec2 s, vec2 i) {\n\tfloat rs = s.x / s.y; // Aspect screen size\n\tfloat ri = i.x / i.y; // Aspect image size\n\tvec2 st = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x); // New st\n\tvec2 o = (rs < ri ? vec2((st.x - s.x) / 2.0, 0.0) : vec2(0.0, (st.y - s.y) / 2.0)) / st; // Offset\n\treturn u * s / st + o;\n}\n\nvoid main() {\n\tvec2 uv = CoverUV(vUv, uResolution, uImageRes);\n\t// vec3 tex = texture2D(uTexture, uv).rgb;\n\tvec3 color = rgbShift(uTexture, uv, uOffset);\n\tgl_FragColor = vec4( color * uDarken, 1.0 );\n}\n\n// void main() {\n\n// \tfloat uvx, uvy;\n// \tif (uScale.x > uScale.y) {\n// \t\tuvx = vUv.x  / uScale.x;\n// \t\tuvy = vUv.y / uScale.y;\n// \t} else {\n// \t\tuvx = vUv.x / uScale.x;\n// \t\tuvy = vUv.y / uScale.y;\n// \t}\n\n// \tvec2 newuv = vec2(uvx, uvy);\n\n// \tvec3 color = rgbShift(uTexture, newuv, uOffset);\n// \t// vec4 image = texture2D(uTexture, newuv);\n\n// \tgl_FragColor = vec4(color, 1.0);\n// }"}),i=new R._12(t.bounds.width,t.bounds.height);this.mesh=new R.Kj0(i,o);var s=(t.bounds.left+t.bounds.right)/2,u=(t.bounds.top+t.bounds.bottom+2*window.scrollY)/2;this.mesh.position.set(s-this.sizes.width/2,-u+this.sizes.height/2,-1)}},{key:"calculateAspect",value:function(e,t){var r=e.x/e.y;return r>(this.sizes.width-20)/(this.sizes.height-20)?{x:(this.sizes.width-20)/t.width,y:(this.sizes.width-20)/t.width/r}:{x:(this.sizes.height-20)/t.height*r,y:(this.sizes.height-20)/t.height}}},{key:"getParams",value:function(){var e=this.mesh.geometry.parameters.width,t=this.mesh.geometry.parameters.height,r=this.calculateAspect(this.mesh.material.uniforms.uImageRes.value,{width:e,height:t});this.original={position:(new R.Pa4).copy(this.mesh.position),uResolution:(new R.FM8).copy(this.mesh.material.uniforms.uResolution.value),uZoomScale:(new R.FM8).copy(this.mesh.material.uniforms.uZoomScale.value)},this.modified={uZoomScale:(new R.FM8).copy(r),uResolution:(new R.FM8).copy(r)}}}])&&F(t.prototype,r),n&&F(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==U(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==U(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===U(i)?i:String(i)),n)}var o,i}function X(e,t){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},X(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=V(e);if(t){var o=V(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return H(this,r)}}function H(e,t){if(t&&("object"===U(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X(e,t)}(i,e);var t,r,n,o=G(i);function i(e){var t,r=e.scene,n=e.sizes;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,{element:".gallery",elements:{images:".gallery__image"}})).scene=r,t.sizes=n,t.textureLoader=new R.dpR,t.meshes=[],t.items=[],t.active=!1,t.previous=null,t.isAnimating=!1,t.addEventListeners(),t}return t=i,(r=[{key:"getBounds",value:function(){var e=this;return new Promise((function(t){e.imagesArray||(e.imagesArray=new Array(e.elements.images.length),s()(e.elements.images,(function(t,r){return e.imagesArray[r]={bounds:t.getBoundingClientRect(),src:t.src}}))),e.imagesArray&&e.imagesArray.map((function(t,r){return t.bounds=e.elements.images[r].getBoundingClientRect()})),e.imageBounds=e.imagesArray,t(e.imagesArray)}))}},{key:"createMeshes",value:function(e){var t=this;this.uniforms={uSpeed:{value:0},uOffset:{value:new R.FM8(0,0)}};var r=e.map((function(e,r){return new Promise((function(n){t.textureLoader.load(e.src,(function(t){var o=function(e,t){var r=e.image.width/e.image.height;return r>t?{x:r/t,y:1}:{x:1,y:t/r}}(t,e.bounds.width/e.bounds.height);n({obj:e,texture:t,aspect:o,index:r})}))}))}));Promise.all(r).then((function(r){r.forEach((function(e){var r=e.obj,n=e.texture,o=e.aspect,i=(e.index,new N({obj:r,texture:n,aspect:o,sizes:t.sizes,uniforms:t.uniforms})),s=i.mesh;t.scene.add(s),t.meshes.push(s),t.items.push(i)})),t.meshes.length===e.length&&(t.isReady=!0,t.scene.traverse((function(e){return e.frustumCulled=!1})))}))}},{key:"updateMeshes",value:function(e){var t=this;this.meshes.map((function(r,n){var o=(e[n].bounds.left+e[n].bounds.right)/2,i=(e[n].bounds.top+e[n].bounds.bottom+2*window.scrollY)/2;r.position.set(o-t.sizes.width/2,-i+t.sizes.height/2,-1)}))}},{key:"calculateAspect",value:function(e,t){var r=e.x/e.y;return r>(this.sizes.width-20)/(this.sizes.height-20)?{x:(this.sizes.width-20)/t.width,y:(this.sizes.width-20)/t.width/r}:{x:(this.sizes.height-20)/t.height*r,y:(this.sizes.height-20)/t.height}}},{key:"animateMesh",value:function(e,t,r,n){var o=this;this.isAnimating=!0,this.active?(b.ZP.to(e.mesh.material.uniforms.uZoomScale.value,{x:e.modified.uZoomScale.x,y:e.modified.uZoomScale.y}),b.ZP.to(e.mesh.material.uniforms.uResolution.value,{x:e.modified.uResolution.x,y:e.modified.uResolution.y})):(b.ZP.to(e.mesh.material.uniforms.uZoomScale.value,{x:e.original.uZoomScale.x,y:e.original.uZoomScale.y}),b.ZP.to(e.mesh.material.uniforms.uResolution.value,{x:e.original.uResolution.x,y:e.original.uResolution.y})),b.ZP.to(e.mesh.material.uniforms.uProgress,{value:this.active?1:0}),this.active?b.ZP.to(e.mesh.position,{x:t.position.x,y:t.position.y,z:1,onComplete:function(){return o.isAnimating=!1}}):b.ZP.to(e.mesh.position,{x:e.original.position.x,y:e.original.position.y,z:e.original.position.z}),this.isAnimating=!1}},{key:"setActive",value:function(e,t){this.emit("active"),this.active=!0,this.animateMesh(e,t,null),this.previous=e,clearTimeout(this.timer)}},{key:"setInactive",value:function(e){this.emit("inactive"),this.active=!1,this.animateMesh(this.previous,null,e),this.previous=null,this.timer=setTimeout((function(){return e.classList.remove("dg","ac")}),1e3)}},{key:"onResize",value:function(){var e=this;this.items.map((function(e){e.getParams()})),this.imageBounds&&this.getBounds().then((function(){e.updateMeshes(e.imageBounds)}))}}])&&Y(t.prototype,r),n&&Y(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(v);function K(e){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}function J(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==K(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==K(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===K(i)?i:String(i)),n)}var o,i}var Q=function(){function e(t){var r=t.sizes;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=new R.iKG(r.width/-2,r.width/2,r.height/2,r.height/-2,1,1e3),this.el.position.set(0,-window.scrollY,10)}var t,r,n;return t=e,(r=[{key:"resizeCamera",value:function(e){this.el.left=e.width/-2,this.el.right=e.width/2,this.el.top=e.height/2,this.el.bottom=e.height/-2,this.el.updateProjectionMatrix()}}])&&J(t.prototype,r),n&&J(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),$=r(4376);function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==ee(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===ee(i)?i:String(i)),n)}var o,i}var re=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.active="#debug"===window.location.hash,this.variables=t,this.gui=new $.XS,this.active?this.create():this.gui.hide()}var t,r,n;return t=e,r=[{key:"create",value:function(){var e=this;this.gui.add(this.variables,"progress").min(0).max(1).step(.001).onFinishChange((function(){e.variables.progressTarget=e.variables.progress})),this.variables.runProgress=function(){var t=e.variables.progress<1?1:0;b.ZP.to(e.variables,{progress:t,duration:1,ease:"expo.out"})},this.gui.add(this.variables,"runProgress")}}],r&&te(t.prototype,r),n&&te(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),ne=function(e,t,r){return(1-r)*e+r*t},oe=r(5161),ie=r.n(oe),se=r(3867);function ue(e){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(e)}function ae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==ue(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===ue(i)?i:String(i)),n)}var o,i}var ce=function(){function e(t){t.model,t.material;var r=t.textures,n=t.scene,o=t.sizes;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.textures=r,this.textureLoader=new R.dpR,this.scene=n,this.sizes=o,this.gltfLoader=new se.E}var t,r,n;return t=e,r=[{key:"loadTextures",value:function(e){var t=this;return new Promise((function(r){var n=ie()(e,(function(e,r){return new Promise((function(n,o){t.textureLoader.load(e,(function(e){var t={};t[r]=e,n(t)}),void 0,(function(e){o(e)}))}))}));Promise.all(n).then((function(e){ie()(e,(function(e){t.textures[Object.keys(e)]=Object.values(e)[0]}))})).then((function(){return r()})).catch((function(e){return console.error("Textures could not be loaded.")}))}))}},{key:"onResize",value:function(){}}],r&&ae(t.prototype,r),n&&ae(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function le(e){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(e)}function fe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==le(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==le(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===le(i)?i:String(i)),n)}var o,i}function he(e,t){return he=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},he(e,t)}function ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=de(e);if(t){var o=de(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return pe(this,r)}}function pe(e,t){if(t&&("object"===le(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return me(e)}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e){return de=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},de(e)}var ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&he(e,t)}(i,e);var t,r,n,o=ye(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).path=e.modelPath,t.textures={color:"images/textures/MCh_S_12_Rzezba_Popiersie_Rozy_Loewenfeld.jpg",normal:"images/textures/MCh_S_12_Rzezba_Popiersie_Rozy_Loewenfeld_.jpg"},t.loadTextures(t.textures).then(t.loadModel.bind(me(t))),t}return t=i,(r=[{key:"loadModel",value:function(){var e=this,t=document.querySelector("footer").getBoundingClientRect();this.gltfLoader.load(this.path,(function(r){e.model=r.scene.children[0].children[0].children[0].children[0];var n=new R.vBJ({map:e.textures.color});e.model.material=n,e.model.rotation.x=.5*Math.PI,e.model.rotation.y=-Math.PI;var o=(t.left+t.right)/2,i=(t.top+t.bottom+2*window.scrollY)/2;e.model.position.set(o-e.sizes.width/2,-i+e.sizes.height/2,-140),e.modelScale=Math.max(.65,.4*e.sizes.aspect),console.log(e.modelScale),e.model.scale.set(e.modelScale,e.modelScale,e.modelScale),e.model.geometry.center(),e.scene.add(e.model)}))}},{key:"onResize",value:function(){if(this.model){var e=document.querySelector("footer").getBoundingClientRect(),t=(e.left+e.right)/2,r=(e.top+e.bottom+2*window.scrollY)/2;this.model.position.set(t-this.sizes.width/2,-r+this.sizes.height/2,-140),this.modelScale=Math.max(.65,.4*this.sizes.aspect),this.model.scale.set(this.modelScale,this.modelScale,this.modelScale)}}}])&&fe(t.prototype,r),n&&fe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(ce);function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}function ge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==be(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==be(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===be(i)?i:String(i)),n)}var o,i}var we=function(){function e(t){var r=t.scene;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=r,this.createLights()}var t,r,n;return t=e,(r=[{key:"createLights",value:function(){this.ambientLight=new R.Mig(16777215,1),this.directionalLight=new R.Ox3(16777215,.7),this.directionalLight.position.x=2,this.directionalLight.castShadow=!0,this.scene.add(this.ambientLight,this.directionalLight)}}])&&ge(t.prototype,r),n&&ge(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Se(e){return Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Se(e)}function Oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==Se(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Se(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Se(i)?i:String(i)),n)}var o,i}var Pe=function(){function e(t){var r=t.meshes;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=new R.iMs,this.currentIntersect=null,this.galleryMeshes=r,this.isIntersecting=!1,this.isFullscreen=!1}var t,r,n;return t=e,(r=[{key:"clearMeshes",value:function(){for(var e=0;e<this.galleryMeshes.length;e++)this.galleryMeshes[e].material.uniforms.uDarken.value=1;console.log("clearing")}},{key:"update",value:function(){var e=this.el.intersectObjects(this.galleryMeshes);e.length&&!this.isFullscreen?(this.currentIntersect=e[0],this.currentIntersect.object.material.uniforms.uDarken.value=1.05,this.isIntersecting=!0):(this.isIntersecting=!1,this.currentIntersect&&(this.currentIntersect=null,this.isIntersecting=!1)),this.isIntersecting&&requestIdleCallback(this.clearMeshes.bind(this))}}])&&Oe(t.prototype,r),n&&Oe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function je(e){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(e)}function xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==je(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==je(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===je(i)?i:String(i)),n)}var o,i}function Re(){return Re="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=_e(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Re.apply(this,arguments)}function _e(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Te(e)););return e}function ke(e,t){return ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ke(e,t)}function ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Te(e);if(t){var o=Te(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ee(this,r)}}function Ee(e,t){if(t&&("object"===je(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Te(e){return Te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Te(e)}var Ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ke(e,t)}(i,e);var t,r,n,o=ze(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).speed=0,t.createGui(),t.models=t.loadModels(),t.isReady=!1,t.camera=new Q({sizes:t.sizes}),t.scene.add(t.camera.el),t.gallery=new W({scene:t.scene,sizes:t.sizes}),t.lights=new we({scene:t.scene}),t.mouse=new R.FM8,t.isTouch=!1,t.clock=new R.SUY,t.oldElapsedTime=0,t.raycaster=new Pe({meshes:t.gallery.meshes}),t.addEventListeners(),t.onResize(),t}return t=i,(r=[{key:"createGSAP",value:function(){this.timeline=b.ZP.timeline(),this.xSetter=b.ZP.quickSetter(".dot","y","px"),b.ZP.utils.pipe(b.ZP.utils.clamp(0,100),b.ZP.utils.snap(5),b.ZP.quickSetter(".dot","y","px"))}},{key:"createGui",value:function(){this.debugObject={},this.debugObject.progress=0,this.debugObject.progressTarget=0,this.debug=new re(this.debugObject)}},{key:"loadModels",value:function(){return[this.roza=new ve({scene:this.scene,sizes:this.sizes,modelPath:"models/roza.glb"})]}},{key:"updateImages",value:function(){0===this.gallery.meshes.length?(this.gallery.createMeshes(this.gallery.imageBounds),this.isReady=!0):this.gallery.updateMeshes(this.gallery.imageBounds)}},{key:"update",value:function(){this.gallery.uniforms.uOffset.value.set(0,this.speed),this.models[0].model&&(this.models[0].model.rotation.z=this.elapsedTime),this.raycaster.el.setFromCamera(this.mouse,this.camera.el),this.raycaster.update(),this.raycaster.currentIntersect&&(this.raycaster.currentIntersect.object.material.uniforms.uMouse.value=this.mouse),this.elapsedTime=this.clock.getElapsedTime(),this.deltaTime=this.elapsedTime-this.oldElapsedTime,this.oldElapsedTime=this.elapsedTime,this.renderer.render(this.scene,this.camera.el)}},{key:"onResize",value:function(){Re(Te(i.prototype),"onResize",this).call(this),this.camera.resizeCamera(this.sizes),this.renderer.setSize(this.sizes.width,this.sizes.height),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.models&&this.models.map((function(e){e.onResize()})),this.gallery.sizes=this.sizes,this.gallery.onResize&&this.gallery.onResize()}},{key:"addEventListeners",value:function(){var e=this;window.addEventListener("click",(function(t){if(e.gallery.active&&!e.gallery.isAnimating)return e.raycaster.isFullscreen=!1,e.gallery.setInactive(e.element);if(e.raycaster.currentIntersect&&!e.gallery.isAnimating){e.raycaster.isFullscreen=!0,e.element.classList.add("dg","ac");var r=e.gallery.items.find((function(t){return t.mesh.uuid===e.raycaster.currentIntersect.object.uuid}));e.gallery.setActive(r,e.camera.el)}})),window.addEventListener("mousemove",(function(t){e.mouse.x=t.clientX/e.sizes.width*2-1,e.mouse.y=-t.clientY/e.sizes.height*2+1})),window.addEventListener("touchstart",(function(r){e.isTouch=!0,t(r)})),window.addEventListener("touchmove",(function(r){e.isTouch&&t(r)})),window.addEventListener("touchend",(function(){e.isTouch=!1}));var t=function(t){if(t.touches.length>0){var r=t.touches[0];e.mouse.x=r.clientX/e.sizes.width-.5,e.mouse.y=-r.clientY/e.sizes.height+.5}}}}])&&xe(t.prototype,r),n&&xe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(L);function Me(e){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(e)}function Ae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==Me(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Me(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Me(i)?i:String(i)),n)}var o,i}function Le(e,t){return Le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Le(e,t)}function Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ze(e);if(t){var o=Ze(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Be(this,r)}}function Be(e,t){if(t&&("object"===Me(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ze(e){return Ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ze(e)}var De=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Le(e,t)}(i,e);var t,r,n,o=Ie(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,{element:e,elements:{el:".btn",text:document.querySelector(".btn__text"),textInner:document.querySelector(".btn__text--inner")}})).renderedStyles={tx:{previous:0,current:0,amt:.1},ty:{previous:0,current:0,amt:.1}},t.isRunning=!1,t.isTouch=!1,t.state={hover:!1},t.calculateBounds(),t.createMouse(),t.addEventListeners(),t.frameCount=0,requestAnimationFrame((function(){return t.render()})),t}return t=i,(r=[{key:"createMouse",value:function(){this.mousepos={x:0,y:0}}},{key:"calculateBounds",value:function(){var e=this.elements.el.getBoundingClientRect();this.rect={top:e.top+window.scrollY,left:e.left,width:e.width,height:e.height},this.distanceToTrigger=.8*this.rect.width}},{key:"addEventListeners",value:function(){var e=this;this.elements.el.addEventListener("mouseover",(function(){e.isRunning||(e.frameCount=0,e.isRunning=!0,e.render())})),window.addEventListener("resize",this.onResize.bind(this)),window.addEventListener("mousemove",(function(t){return e.mousepos=function(e){return{x:e.clientX,y:e.clientY}}(t)}))}},{key:"onResize",value:function(){this.winsize={width:window.innerWidth,height:window.innerHeight},this.calculateBounds()}},{key:"render",value:function(){var e=this;if(this.isRunning){var t,r,n,o,i,s,u=(t=this.mousepos.x+window.scrollX,r=this.mousepos.y+window.scrollY,n=this.rect.left+this.rect.width/2,o=this.rect.top+this.rect.height/2,i=t-n,s=r-o,Math.hypot(i,s)),a=0,c=0;for(var l in u<this.distanceToTrigger?(this.state.hover||this.enter(),a=.3*(this.mousepos.x+window.scrollX-(this.rect.left+this.rect.width/2)),c=.3*(this.mousepos.y+window.scrollY-(this.rect.top+this.rect.height/2))):this.state.hover&&this.leave(),this.renderedStyles.tx.current=a,this.renderedStyles.ty.current=c,this.renderedStyles)this.renderedStyles[l].previous=ne(this.renderedStyles[l].previous,this.renderedStyles[l].current,this.renderedStyles[l].amt);this.elements.el.style.transform="translate3d(".concat(this.renderedStyles.tx.previous,"px, ").concat(this.renderedStyles.ty.previous,"px, 0)"),this.elements.text.style.transform="translate3d(".concat(.5*this.renderedStyles.tx.previous,"px, ").concat(.5*this.renderedStyles.ty.previous,"px, 0)"),requestAnimationFrame((function(){return e.render()})),requestIdleCallback((function(){e.stopRender()}))}}},{key:"stopRender",value:function(){if(!this.state.hover)return this.frameCount+=1,void(this.frameCount>=90&&(this.isRunning=!1));this.frameCount=0}},{key:"enter",value:function(){this.isRunning=!0,this.state.hover=!0,this.elements.el.classList.add("btn--hover"),document.body.classList.add("active"),b.ZP.killTweensOf(this.elements.textInner),b.ZP.timeline().to(this.elements.textInner,{duration:.15,ease:"Power2.easeIn",opacity:0,x:"20%"}).to(this.elements.textInner,{duration:.2,ease:"Expo.easeOut",opacity:1,startAt:{x:"-20%"},x:"0%"})}},{key:"leave",value:function(){this.state.hover=!1,this.elements.el.classList.remove("btn--hover"),document.body.classList.remove("active"),b.ZP.killTweensOf(this.elements.textInner),b.ZP.timeline().to(this.elements.textInner,{duration:.15,ease:"Power2.easeIn",opacity:0,x:"-20%"}).to(this.elements.textInner,{duration:.2,ease:"Expo.easeOut",opacity:1,startAt:{x:"20%"},x:"0%"})}}])&&Ae(t.prototype,r),n&&Ae(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(v);function Fe(e){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fe(e)}function qe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==Fe(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Fe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Fe(i)?i:String(i)),n)}var o,i}function Ne(e,t){return Ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ne(e,t)}function Ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Xe(e);if(t){var o=Xe(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ye(this,r)}}function Ye(e,t){if(t&&("object"===Fe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Xe(e){return Xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xe(e)}var Ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ne(e,t)}(i,e);var t,r,n,o=Ue(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,{element:e,elements:{title:".cover__title",list:"li",desc:".cover__desc--hidden",btn:".btn"}})).id="home",t.animate(),t.onCreated(),t}return t=i,(r=[{key:"animate",value:function(){b.ZP.timeline({duration:1,ease:"power4.out"}).from(this.element,{autoAlpha:0}).from(this.elements.title,{autoAlpha:0,y:100,rotate:2}).from(this.elements.list,{autoAlpha:0,y:40,stagger:.2,duration:.7,rotate:10}).from(this.elements.desc,{autoAlpha:0,y:40,duration:.7},"-=0.5").from(this.elements.btn,{autoAlpha:0},"-=0.5")}},{key:"onCreated",value:function(){this.button=new De("#btn-gh"),this.button=new De(".describe__button")}}])&&qe(t.prototype,r),n&&qe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(v),He=r(9961);function Ve(e){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(e)}function We(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==Ve(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ve(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Ve(i)?i:String(i)),n)}var o,i}var Ke=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.create(),this.createPreloader()}var t,r,n;return t=e,r=[{key:"create",value:function(){this.scroll=new He.Z,this.experience=new Ce(".webgl"),this.addEventListeners(),this.update()}},{key:"createPreloader",value:function(){this.preloader=new x,this.preloader.once("completed",this.onPreloaded.bind(this))}},{key:"onPreloaded",value:function(){var e=this;this.home=new Ge(".cover"),this.experience.gallery.getBounds().then((function(){e.experience.updateImages(),e.preloader.hide()}))}},{key:"update",value:function(e){this.scroll&&this.scroll.raf(e),this.experience&&this.experience.isReady&&this.experience.update(),this.frame=window.requestAnimationFrame(this.update.bind(this))}},{key:"addEventListeners",value:function(){var e,t,r=this;window.addEventListener("resize",(e=this.onResize.bind(this),function(r){t&&clearTimeout(t),t=setTimeout(e,100,r)})),this.experience.gallery.on("active",(function(){r.scroll.stop()})),this.experience.gallery.on("inactive",(function(){r.scroll.start()})),this.scroll.on("scroll",(function(e){r.experience.camera.el.position.y=-window.scrollY,r.experience.speed=.002*e.velocity}))}},{key:"onResize",value:function(){this.experience&&this.experience.onResize&&this.experience.onResize(),this.home&&this.home.gallery&&(this.home.gallery.getBounds(),this.experience.updateImages(this.home.gallery.imagesArray))}}],r&&We(t.prototype,r),n&&We(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();new Ke},4201:()=>{}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={id:e,loaded:!1,exports:{}};return t[e](i,i.exports,n),i.loaded=!0,i.exports}n.m=t,e=[],n.O=(t,r,o,i)=>{if(!r){var s=1/0;for(l=0;l<e.length;l++){for(var[r,o,i]=e[l],u=!0,a=0;a<r.length;a++)(!1&i||s>=i)&&Object.keys(n.O).every((e=>n.O[e](r[a])))?r.splice(a--,1):(u=!1,i<s&&(s=i));if(u){e.splice(l--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[r,o,i]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,i,[s,u,a]=r,c=0;if(s.some((t=>0!==e[t]))){for(o in u)n.o(u,o)&&(n.m[o]=u[o]);if(a)var l=a(n)}for(t&&t(r);c<s.length;c++)i=s[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(l)},r=self.webpackChunkWebpack_Starter_Repo_2023=self.webpackChunkWebpack_Starter_Repo_2023||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.O(void 0,[649],(()=>n(5187)));var o=n.O(void 0,[649],(()=>n(4201)));o=n.O(o)})();
//# sourceMappingURL=main33e4811cbf8854f8ff0c.js.map